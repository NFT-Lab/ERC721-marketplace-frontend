<main class="content">
  <div *ngIf="minted; then thenBlock; else elseBlock"></div>
  <ng-template #elseBlock>
    <form [formGroup]="mintForm" (ngSubmit)="mint()">
      <mat-form-field appearance="outline">
        <ngx-mat-file-input
          formControlName="file"
          [required]="true"
        ></ngx-mat-file-input>
        <mat-icon matSuffix>clip</mat-icon>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" [required]="true" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Author name</mat-label>
        <input matInput formControlName="author" [required]="true" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Author wallet</mat-label>
        <input matInput formControlName="wallet" [required]="true" />
      </mat-form-field>
      <app-chip-list formControlName="categories"></app-chip-list>
      <div class="card-container">
        <div (click)="mint()" class="card card-small">{{ mintMessage }}</div>
      </div>
    </form>
  </ng-template>
  <ng-template #thenBlock>
    <app-nft-preview
      [title]="mintForm.value.title"
      [author]="mintForm.value.author"
      [img-src]="img_cid"
      [description]="mintForm.value.desc"
    ></app-nft-preview>
  </ng-template>
</main>
